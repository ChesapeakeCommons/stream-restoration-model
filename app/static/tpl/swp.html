<div>

    <!-- PROTOCOL 4 -->

    <h2>
        Stormwater performance standard
    </h2>

    <div class="flex flex-dir-row flex-align-center margin-0 margin-b-1">
        <span class="grow">
            <strong>
                Qualifying conditions
            </strong>
        </span>
        <div data-ng-click="page.displayConditions.protocol4 = !page.displayConditions.protocol4"
             data-ng-if="!page.displayConditions.protocol4"
             class="flex flex-dir-col flex-justify-center flex-align-center"
             style="flex-grow: 0; flex-shrink: 0; margin-right: -1rem;"
             title="Show more">
            <div class="halo-btn">
                <div class="halo"></div>
                <span class="material-icons">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px"
                         viewBox="0 0 24 24" width="24px" fill="#000000">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"/>
                    </svg>
                </span>
            </div>
        </div>
        <div data-ng-click="page.displayConditions.protocol4 = !page.displayConditions.protocol4"
             data-ng-if="page.displayConditions.protocol4"
             class="flex flex-dir-col flex-justify-center flex-align-center"
             style="flex-grow: 0; flex-shrink: 0; margin-right: -1rem;"
             title="Show less">
            <div class="halo-btn">
                <div class="halo"></div>
                <span class="material-icons">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px"
                         viewBox="0 0 24 24" width="24px" fill="#000000">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"/>
                    </svg>
                </span>
            </div>
        </div>
    </div>

    <div class="pad-1 margin-b-2"
         style="background: #edf7fe; border-radius: .5rem; font-size: .9rem;"
         data-ng-if="page.displayConditions.protocol4">

        <p class="pad-0 margin-b-2">
            Eligible runoff reduction practices are: landscape restoration/reforestation; rooftop disconnection;
            sheetflow to filter/open space; all ESD practices in MD 2007; dry swale; expanded tree pits; grass channels;
            green roof; green streets; infiltration; rainwater harvesting; landscape restoration/reforestation.
        </p>

        <p class="pad-0 margin-0">
            Eligible stormwater treatment practices are: constructed wetlands; filtering practices; proprietary
            practices; wet ponds and wet swales.
        </p>

    </div>

    <div class="pad-t-1 pad-b-1"
         style="display: flex; flex-flow: row nowrap; align-items: center;">
        <div class="flex flex-dir-col flex-align-center flex-justify-center margin-r-1">
            <svg xmlns="http://www.w3.org/2000/svg"
                 enable-background="new 0 0 24 24" height="24px" viewBox="0 0 24 24"
                 width="24px" fill="#000000">
                <rect fill="none" height="24" width="24"/>
                <path d="M22,7h-9v2h9V7z M22,15h-9v2h9V15z M5.54,11L2,7.46l1.41-1.41l2.12,2.12l4.24-4.24l1.41,1.41L5.54,11z M5.54,19L2,15.46 l1.41-1.41l2.12,2.12l4.24-4.24l1.41,1.41L5.54,19z"/>
            </svg>
        </div>
        <div class="pad-r-2">
            This project meets all qualifying conditions for protocol 4.
        </div>
        <label data-ng-click="page.modelInputs.conditions.protocol4 = !page.modelInputs.conditions.protocol4; page.saveInputs('swp')"
               for="protocol1-checkbox"
               title="Accept/reject conditions">
            <div class="flex flex-dir-col flex-align-center flex-justify-center"
                 data-ng-if="page.modelInputs.conditions.protocol4">
                <span class="material-icons">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24"
                         width="24px" fill="#2196F3">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                </span>
            </div>
            <div class="flex flex-dir-col flex-align-center flex-justify-center"
                 data-ng-if="!page.modelInputs.conditions.protocol4">
                <span class="material-icons">
                    <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24"
                         width="24px" fill="#2196F3">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"/>
                    </svg>
                </span>
            </div>
            <input type="checkbox"
                   style="position: fixed; right: 100%;"
                   id="protocol4-checkbox"
                   name="protocol4-checkbox"
                   data-ng-model="page.modelInputs.conditions.protocol4">
        </label>
    </div>

    <form id="protocol-4"
          data-ng-submit="page.saveInputs('swp')"
          data-ng-if="page.modelInputs.conditions.protocol4"
          class="form"
          role="form">

        <article class="feature-detail">

            <div class="feature-detail-content">

                <div>

                    <p class="pad-0 margin-0 margin-b-1" style="font-size: 1.125rem;">
                        <strong>
                            1. Treatment inputs
                        </strong>
                    </p>

                    <fieldset class="pad-0 margin-0"
                              style="border: none; float: none;">

                        <div class="form-element">

                            <label for="swp_modes">
                                <strong>Calculation mode</strong>
                            </label>

                            <div class="classification--search margin-t-1"
                                 style="position: relative;">

                                <select id="swp_modes"
                                        name="swp_modes"
                                        data-ng-model="page.modelInputs.swp.mode">
                                    <option value=""
                                            data-ng-if="!page.modelInputs.swp.mode"
                                            disabled
                                            selected>
                                        Select mode&hellip;
                                    </option>
                                    <option data-ng-repeat="mode in page.modelInputs.swp_modes track by mode.key"
                                            data-ng-selected="mode.key === page.modelInputs.swp.mode"
                                            value="{{ mode.key }}"
                                            title="{{ mode.name }}">
                                        {{ mode.name }}
                                    </option>
                                </select>

                            </div>

                        </div>

                        <div class="form-element">

                            <label for="swp_load_sources">
                                <strong>Load source</strong>
                            </label>

                            <div class="classification--search margin-t-1"
                                 style="position: relative;">

                                <select id="swp_load_sources"
                                        name="swp_load_sources"
                                        data-ng-model="page.modelInputs.swp.source_key">
                                    <option value=""
                                            data-ng-if="!page.modelInputs.swp.source_key"
                                            disabled
                                            selected>
                                        Select load source&hellip;
                                    </option>
                                    <option data-ng-repeat="src in page.modelInputs.swp.load_sources track by src.key"
                                            data-ng-selected="src.key === page.modelInputs.swp.source_key"
                                            value="{{ src.key }}"
                                            title="{{ src.name }}">
                                        {{ src.name }}
                                    </option>
                                </select>

                            </div>

                        </div>

                        <div class="form-element">

                            <label for="footprint_area" class="meta-label">
                                <strong>BMP footprint area (acres)</strong>
                            </label>

                            <input type="number"
                                   step="any"
                                   class="form-control"
                                   data-ng-model="page.modelInputs.swp.footprint_area"
                                   id="footprint_area"
                                   name="footprint_area"
                                   placeholder="&hellip;"/>

                        </div>

                        <div class="form-element">

                            <label for="impervious_acres" class="meta-label">
                                <strong>Impervious acres in drainage area</strong>
                            </label>

                            <input type="number"
                                   step="any"
                                   class="form-control"
                                   data-ng-model="page.modelInputs.swp.impervious_acres"
                                   id="impervious_acres"
                                   name="impervious_acres"
                                   placeholder="&hellip;"/>

                        </div>

                        <div class="form-element">

                            <label for="ponding_depth" class="meta-label">
                                <strong>Ponding depth (feet)</strong>
                            </label>

                            <input type="number"
                                   step="any"
                                   class="form-control"
                                   data-ng-model="page.modelInputs.swp.ponding_depth"
                                   id="ponding_depth"
                                   name="ponding_depth"
                                   placeholder="&hellip;"/>

                        </div>

                    </fieldset>

                    <p class="pad-0 margin-0 margin-b-2" style="font-size: 1.125rem;">
                        <strong>
                            2. Load calculations
                        </strong>
                    </p>

                    <fieldset class="pad-0 margin-0"
                              style="border: none; float: none;">

                        <div class="triad">

                            <div class="flex flex-dir-col pad-r-1">

                                <div class="form-element pad-0 margin-0">

                                    <label class="meta-label"
                                           for="tn_pct_reduced">
                                        <strong>TN % reduced</strong>
                                    </label>

                                    <input type="number"
                                           step="any"
                                           class="form-control"
                                           value="{{ page.modelInputs.swp.tn_pct_reduced | number:2 }}"
                                           id="tn_pct_reduced"
                                           name="tn_pct_reduced"
                                           placeholder="&hellip;" disabled readonly/>

                                </div>

                            </div>

                            <div class="flex flex-dir-col pad-l-1 pad-r-1">

                                <div class="form-element pad-0 margin-0">

                                    <label class="meta-label"
                                           for="tp_pct_reduced">
                                        <strong>TP % reduced</strong>
                                    </label>

                                    <input type="number"
                                           step="any"
                                           class="form-control"
                                           value="{{ page.modelInputs.swp.tp_pct_reduced | number:2 }}"
                                           id="tp_pct_reduced"
                                           name="tp_pct_reduced"
                                           placeholder="&hellip;" disabled readonly/>

                                </div>

                            </div>

                            <div class="flex flex-dir-col pad-l-1">

                                <div class="form-element pad-0 margin-0">

                                    <label class="meta-label"
                                           for="tss_pct_reduced">
                                        <strong>TSS % reduced</strong>
                                    </label>

                                    <input type="number"
                                           step="any"
                                           class="form-control"
                                           value="{{ page.modelInputs.swp.tss_pct_reduced | number:2 }}"
                                           id="tss_pct_reduced"
                                           name="tss_pct_reduced"
                                           placeholder="&hellip;" disabled readonly/>

                                </div>

                            </div>

                        </div>

                    </fieldset>

                    <p class="pad-0 margin-0 margin-t-2 margin-b-2" style="font-size: 1.125rem;">
                        <strong>
                            3. Reduction credits (pounds per year)
                        </strong>
                    </p>

                    <fieldset class="pad-0 margin-0"
                              style="border: none; float: none;">

                        <div class="triad">

                            <div class="flex flex-dir-col pad-r-1">

                                <div class="form-element pad-0 margin-0">

                                    <label class="meta-label"
                                           for="tn_lbs_reduced">
                                        <strong>TN reduction (lbs)</strong>
                                    </label>

                                    <input type="number"
                                           step="any"
                                           class="form-control"
                                           value="{{ page.modelInputs.swp.tn_lbs_reduced | number:2 }}"
                                           id="tn_lbs_reduced"
                                           name="tn_lbs_reduced"
                                           placeholder="&hellip;" disabled readonly/>

                                </div>

                            </div>

                            <div class="flex flex-dir-col pad-l-1 pad-r-1">

                                <div class="form-element pad-0 margin-0">

                                    <label class="meta-label"
                                           for="tp_lbs_reduced">
                                        <strong>TP reduction (lbs)</strong>
                                    </label>

                                    <input type="number"
                                           step="any"
                                           class="form-control"
                                           value="{{ page.modelInputs.swp.tp_lbs_reduced | number:2 }}"
                                           id="tp_lbs_reduced"
                                           name="tp_lbs_reduced"
                                           placeholder="&hellip;" disabled readonly/>

                                </div>

                            </div>

                            <div class="flex flex-dir-col pad-l-1">

                                <div class="form-element pad-0 margin-0">

                                    <label class="meta-label"
                                           for="tss_lbs_reduced">
                                        <strong>TSS reduction (lbs)</strong>
                                    </label>

                                    <input type="number"
                                           step="any"
                                           class="form-control"
                                           value="{{ page.modelInputs.swp.tss_lbs_reduced | number:2 }}"
                                           id="tss_lbs_reduced"
                                           name="tss_lbs_reduced"
                                           placeholder="&hellip;" disabled readonly/>

                                </div>

                            </div>

                        </div>

                    </fieldset>

                </div>

            </div>

        </article>

        <div class="pad-y-2 flex flex-dir-row flex-nwrap flex-align-center flex-justify-end">
            <button type="button"
                    data-ng-disabled="page.status.processing"
                    data-ng-click="page.resetInputs('swp')"
                    class="pad-t-50p pad-b-50p pad-l-1 pad-r-1 margin-r-2 rad-25"
                    style="color: #FFFFFF; font-size: 1rem; background: #212121; border: 0 none;">
                Reset protocol
            </button>
            <button type="submit"
                    data-ng-disabled="page.status.processing"
                    class="pad-t-50p pad-b-50p pad-l-1 pad-r-1 rad-25"
                    style="color: #FFFFFF; font-size: 1rem; background: #2196F3; border: 0 none;">
                Save inputs
            </button>
        </div>

    </form>

</div>

